---
title: 从零开始实现一个Gizmo
key: t20190311
tags:
  - Graphics
---

Gizmo是指用鼠标来编辑物体的位置、旋转和缩放的控制杆，如果你用过像3ds max、maya这样的建模软件，应该会对它的使用非常熟悉：

![IMG](?.png)

我在网络上没有找到把这个东西完全说清楚的文章，于是决定自行探索一番。Gizmo不需要什么高深的数学知识，但实现起来却一点也不简单。本文介绍了我实现Gizmo的过程中用到的数学原理，并提供一份C++/OpenGL实现。

## 需求

回忆一下我们使用Gizmo的过程，支持的操作有平移、旋转和缩放三种，操作模式则分为世界模式和本地模式。本地模式指操作杆会随着物体的旋转一同旋转，世界模式则是指无论物体如何旋转，操作杆都始终和xyz轴对齐：

其次，Gizmo应该具有一些人性化的特点：无论摄像机参数如何改变，操作杆在屏幕空间的大小应该保持不变；
